<!DOCTYPE html>
<html lang="en">
    <style>
        body {
        background-color: black;
        color: rgb(204, 123, 17);
        margin: 0;
        font-size: 30px;
        font-style: bold;
    }
    </style>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actor Movies</title>
    <!-- Include any styles or scripts you need for this page -->
</head>
<body>
    <h1 id="actorName"></h1>
    <div id="actorMoviesContainer"></div>
    <div id="actorPoster"></div>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        $(document).ready(function () {
            // Fetch actorId from URL query parameters
            const urlParams = new URLSearchParams(window.location.search);
            const staffId = urlParams.get('staffId');
            
            // Fetch actor details using staffId
            const apiUrl = `https://kinopoiskapiunofficial.tech/api/v1/staff/${staffId}`;
            $.ajax({
                url: apiUrl,
                headers: {
                    'X-API-KEY': 'c20595a1-3d8c-4cbd-92eb-fd7b0fa75c67',
                    'Content-Type': 'application/json'
                },
                success: function (response) {
                    displayActorMovies(response);
                },
                error: function (error) {
                    console.error('Error fetching actor movies data:', error);
                }
            });
        });

        // Modify the displayActorMovies function
function displayActorMovies(actorData) {
    const actorName = actorData.nameRu;
    const actorPoster = actorData.posterUrl;
    const actorMoviesContainer = $('#actorMoviesContainer');

    // Display actor name
    $('#actorName').text(`${actorName}`);
    
    // Display actor movies
    actorData.films.forEach(function (movie) {
        // Create a clickable element for each movie
        const movieElement = $('<div>').text(movie.nameRu).addClass('clickable-movie');
        movieElement.data('film-id', movie.filmId);

        // Append movie element to container
        actorMoviesContainer.append(movieElement);
    });

    // Add click event handler for clickable movie elements
    $('.clickable-movie').on('click', function() {
        const filmId = $(this).data('film-id');
        // Navigate back to index.html with the filmId in the view field
        window.location.href = `index.html?=${filmId}`;
    });
}
    </script>
</body>
</html>
